!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).google=t.google||{},t.google.maps=t.google.maps||{},t.google.maps.plugins=t.google.maps.plugins||{},t.google.maps.plugins.three={}),t.THREE)}(this,(function(t,e){"use strict";var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={exports:{}},o=function(t){return t&&t.Math===Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r&&r)||o("object"==typeof r&&r)||function(){return this}()||Function("return this")(),a={},u=function(t){try{return!!t()}catch(t){return!0}},c=!u((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),s=!u((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),f=s,l=Function.prototype.call,y=f?l.bind(l):function(){return l.apply(l,arguments)},h={},p={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,d=g&&!p.call({1:2},1);h.f=d?function(t){var e=g(this,t);return!!e&&e.enumerable}:p;var v,b,w=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},m=s,A=Function.prototype,S=A.call,O=m&&A.bind.bind(S,S),T=m?O:function(t){return function(){return S.apply(t,arguments)}},L=T,E=L({}.toString),I=L("".slice),R=function(t){return I(E(t),8,-1)},M=u,j=R,x=Object,P=T("".split),_=M((function(){return!x("z").propertyIsEnumerable(0)}))?function(t){return"String"===j(t)?P(t,""):x(t)}:x,F=function(t){return null==t},C=F,U=TypeError,D=function(t){if(C(t))throw new U("Can't call method on "+t);return t},V=_,B=D,N=function(t){return V(B(t))},k="object"==typeof document&&document.all,G=void 0===k&&void 0!==k?function(t){return"function"==typeof t||t===k}:function(t){return"function"==typeof t},W=G,Y=function(t){return"object"==typeof t?null!==t:W(t)},z=i,q=G,H=function(t,e){return arguments.length<2?(r=z[t],q(r)?r:void 0):z[t]&&z[t][e];var r},Q=T({}.isPrototypeOf),X="undefined"!=typeof navigator&&String(navigator.userAgent)||"",J=i,Z=X,K=J.process,$=J.Deno,tt=K&&K.versions||$&&$.version,et=tt&&tt.v8;et&&(b=(v=et.split("."))[0]>0&&v[0]<4?1:+(v[0]+v[1])),!b&&Z&&(!(v=Z.match(/Edge\/(\d+)/))||v[1]>=74)&&(v=Z.match(/Chrome\/(\d+)/))&&(b=+v[1]);var rt=b,nt=rt,ot=u,it=i.String,at=!!Object.getOwnPropertySymbols&&!ot((function(){var t=Symbol("symbol detection");return!it(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&nt&&nt<41})),ut=at&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ct=H,st=G,ft=Q,lt=Object,yt=ut?function(t){return"symbol"==typeof t}:function(t){var e=ct("Symbol");return st(e)&&ft(e.prototype,lt(t))},ht=String,pt=function(t){try{return ht(t)}catch(t){return"Object"}},gt=G,dt=pt,vt=TypeError,bt=function(t){if(gt(t))return t;throw new vt(dt(t)+" is not a function")},wt=bt,mt=F,At=function(t,e){var r=t[e];return mt(r)?void 0:wt(r)},St=y,Ot=G,Tt=Y,Lt=TypeError,Et={exports:{}},It=i,Rt=Object.defineProperty,Mt=function(t,e){try{Rt(It,t,{value:e,configurable:!0,writable:!0})}catch(r){It[t]=e}return e},jt=i,xt=Mt,Pt="__core-js_shared__",_t=Et.exports=jt[Pt]||xt(Pt,{});(_t.versions||(_t.versions=[])).push({version:"3.36.0",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Ft=Et.exports,Ct=Ft,Ut=function(t,e){return Ct[t]||(Ct[t]=e||{})},Dt=D,Vt=Object,Bt=function(t){return Vt(Dt(t))},Nt=Bt,kt=T({}.hasOwnProperty),Gt=Object.hasOwn||function(t,e){return kt(Nt(t),e)},Wt=T,Yt=0,zt=Math.random(),qt=Wt(1..toString),Ht=function(t){return"Symbol("+(void 0===t?"":t)+")_"+qt(++Yt+zt,36)},Qt=Ut,Xt=Gt,Jt=Ht,Zt=at,Kt=ut,$t=i.Symbol,te=Qt("wks"),ee=Kt?$t.for||$t:$t&&$t.withoutSetter||Jt,re=function(t){return Xt(te,t)||(te[t]=Zt&&Xt($t,t)?$t[t]:ee("Symbol."+t)),te[t]},ne=y,oe=Y,ie=yt,ae=At,ue=function(t,e){var r,n;if("string"===e&&Ot(r=t.toString)&&!Tt(n=St(r,t)))return n;if(Ot(r=t.valueOf)&&!Tt(n=St(r,t)))return n;if("string"!==e&&Ot(r=t.toString)&&!Tt(n=St(r,t)))return n;throw new Lt("Can't convert object to primitive value")},ce=TypeError,se=re("toPrimitive"),fe=function(t,e){if(!oe(t)||ie(t))return t;var r,n=ae(t,se);if(n){if(void 0===e&&(e="default"),r=ne(n,t,e),!oe(r)||ie(r))return r;throw new ce("Can't convert object to primitive value")}return void 0===e&&(e="number"),ue(t,e)},le=fe,ye=yt,he=function(t){var e=le(t,"string");return ye(e)?e:e+""},pe=Y,ge=i.document,de=pe(ge)&&pe(ge.createElement),ve=function(t){return de?ge.createElement(t):{}},be=ve,we=!c&&!u((function(){return 7!==Object.defineProperty(be("div"),"a",{get:function(){return 7}}).a})),me=c,Ae=y,Se=h,Oe=w,Te=N,Le=he,Ee=Gt,Ie=we,Re=Object.getOwnPropertyDescriptor;a.f=me?Re:function(t,e){if(t=Te(t),e=Le(e),Ie)try{return Re(t,e)}catch(t){}if(Ee(t,e))return Oe(!Ae(Se.f,t,e),t[e])};var Me={},je=c&&u((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),xe=Y,Pe=String,_e=TypeError,Fe=function(t){if(xe(t))return t;throw new _e(Pe(t)+" is not an object")},Ce=c,Ue=we,De=je,Ve=Fe,Be=he,Ne=TypeError,ke=Object.defineProperty,Ge=Object.getOwnPropertyDescriptor,We="enumerable",Ye="configurable",ze="writable";Me.f=Ce?De?function(t,e,r){if(Ve(t),e=Be(e),Ve(r),"function"==typeof t&&"prototype"===e&&"value"in r&&ze in r&&!r[ze]){var n=Ge(t,e);n&&n[ze]&&(t[e]=r.value,r={configurable:Ye in r?r[Ye]:n[Ye],enumerable:We in r?r[We]:n[We],writable:!1})}return ke(t,e,r)}:ke:function(t,e,r){if(Ve(t),e=Be(e),Ve(r),Ue)try{return ke(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new Ne("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var qe=Me,He=w,Qe=c?function(t,e,r){return qe.f(t,e,He(1,r))}:function(t,e,r){return t[e]=r,t},Xe={exports:{}},Je=c,Ze=Gt,Ke=Function.prototype,$e=Je&&Object.getOwnPropertyDescriptor,tr=Ze(Ke,"name"),er={EXISTS:tr,PROPER:tr&&"something"===function(){}.name,CONFIGURABLE:tr&&(!Je||Je&&$e(Ke,"name").configurable)},rr=G,nr=Ft,or=T(Function.toString);rr(nr.inspectSource)||(nr.inspectSource=function(t){return or(t)});var ir,ar,ur,cr=nr.inspectSource,sr=G,fr=i.WeakMap,lr=sr(fr)&&/native code/.test(String(fr)),yr=Ht,hr=Ut("keys"),pr=function(t){return hr[t]||(hr[t]=yr(t))},gr={},dr=lr,vr=i,br=Y,wr=Qe,mr=Gt,Ar=Ft,Sr=pr,Or=gr,Tr="Object already initialized",Lr=vr.TypeError,Er=vr.WeakMap;if(dr||Ar.state){var Ir=Ar.state||(Ar.state=new Er);Ir.get=Ir.get,Ir.has=Ir.has,Ir.set=Ir.set,ir=function(t,e){if(Ir.has(t))throw new Lr(Tr);return e.facade=t,Ir.set(t,e),e},ar=function(t){return Ir.get(t)||{}},ur=function(t){return Ir.has(t)}}else{var Rr=Sr("state");Or[Rr]=!0,ir=function(t,e){if(mr(t,Rr))throw new Lr(Tr);return e.facade=t,wr(t,Rr,e),e},ar=function(t){return mr(t,Rr)?t[Rr]:{}},ur=function(t){return mr(t,Rr)}}var Mr={set:ir,get:ar,has:ur,enforce:function(t){return ur(t)?ar(t):ir(t,{})},getterFor:function(t){return function(e){var r;if(!br(e)||(r=ar(e)).type!==t)throw new Lr("Incompatible receiver, "+t+" required");return r}}},jr=T,xr=u,Pr=G,_r=Gt,Fr=c,Cr=er.CONFIGURABLE,Ur=cr,Dr=Mr.enforce,Vr=Mr.get,Br=String,Nr=Object.defineProperty,kr=jr("".slice),Gr=jr("".replace),Wr=jr([].join),Yr=Fr&&!xr((function(){return 8!==Nr((function(){}),"length",{value:8}).length})),zr=String(String).split("String"),qr=Xe.exports=function(t,e,r){"Symbol("===kr(Br(e),0,7)&&(e="["+Gr(Br(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!_r(t,"name")||Cr&&t.name!==e)&&(Fr?Nr(t,"name",{value:e,configurable:!0}):t.name=e),Yr&&r&&_r(r,"arity")&&t.length!==r.arity&&Nr(t,"length",{value:r.arity});try{r&&_r(r,"constructor")&&r.constructor?Fr&&Nr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Dr(t);return _r(n,"source")||(n.source=Wr(zr,"string"==typeof e?e:"")),t};Function.prototype.toString=qr((function(){return Pr(this)&&Vr(this).source||Ur(this)}),"toString");var Hr=Xe.exports,Qr=G,Xr=Me,Jr=Hr,Zr=Mt,Kr=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;if(Qr(r)&&Jr(r,i,n),n.global)o?t[e]=r:Zr(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:Xr.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},$r={},tn=Math.ceil,en=Math.floor,rn=Math.trunc||function(t){var e=+t;return(e>0?en:tn)(e)},nn=function(t){var e=+t;return e!=e||0===e?0:rn(e)},on=nn,an=Math.max,un=Math.min,cn=function(t,e){var r=on(t);return r<0?an(r+e,0):un(r,e)},sn=nn,fn=Math.min,ln=function(t){var e=sn(t);return e>0?fn(e,9007199254740991):0},yn=ln,hn=function(t){return yn(t.length)},pn=N,gn=cn,dn=hn,vn=function(t){return function(e,r,n){var o=pn(e),i=dn(o);if(0===i)return!t&&-1;var a,u=gn(n,i);if(t&&r!=r){for(;i>u;)if((a=o[u++])!=a)return!0}else for(;i>u;u++)if((t||u in o)&&o[u]===r)return t||u||0;return!t&&-1}},bn={includes:vn(!0),indexOf:vn(!1)},wn=Gt,mn=N,An=bn.indexOf,Sn=gr,On=T([].push),Tn=function(t,e){var r,n=mn(t),o=0,i=[];for(r in n)!wn(Sn,r)&&wn(n,r)&&On(i,r);for(;e.length>o;)wn(n,r=e[o++])&&(~An(i,r)||On(i,r));return i},Ln=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],En=Tn,In=Ln.concat("length","prototype");$r.f=Object.getOwnPropertyNames||function(t){return En(t,In)};var Rn={};Rn.f=Object.getOwnPropertySymbols;var Mn=H,jn=$r,xn=Rn,Pn=Fe,_n=T([].concat),Fn=Mn("Reflect","ownKeys")||function(t){var e=jn.f(Pn(t)),r=xn.f;return r?_n(e,r(t)):e},Cn=Gt,Un=Fn,Dn=a,Vn=Me,Bn=function(t,e,r){for(var n=Un(e),o=Vn.f,i=Dn.f,a=0;a<n.length;a++){var u=n[a];Cn(t,u)||r&&Cn(r,u)||o(t,u,i(e,u))}},Nn=u,kn=G,Gn=/#|\.prototype\./,Wn=function(t,e){var r=zn[Yn(t)];return r===Hn||r!==qn&&(kn(e)?Nn(e):!!e)},Yn=Wn.normalize=function(t){return String(t).replace(Gn,".").toLowerCase()},zn=Wn.data={},qn=Wn.NATIVE="N",Hn=Wn.POLYFILL="P",Qn=Wn,Xn=i,Jn=a.f,Zn=Qe,Kn=Kr,$n=Mt,to=Bn,eo=Qn,ro=function(t,e){var r,n,o,i,a,u=t.target,c=t.global,s=t.stat;if(r=c?Xn:s?Xn[u]||$n(u,{}):Xn[u]&&Xn[u].prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=Jn(r,n))&&a.value:r[n],!eo(c?n:u+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;to(i,o)}(t.sham||o&&o.sham)&&Zn(i,"sham",!0),Kn(r,n,i,t)}},no=re("iterator"),oo=!1;try{var io=0,ao={next:function(){return{done:!!io++}},return:function(){oo=!0}};ao[no]=function(){return this},Array.from(ao,(function(){throw 2}))}catch(t){}var uo="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,co={};co[re("toStringTag")]="z";var so,fo,lo,yo="[object z]"===String(co),ho=G,po=R,go=re("toStringTag"),vo=Object,bo="Arguments"===po(function(){return arguments}()),wo=yo?po:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=vo(t),go))?r:bo?po(e):"Object"===(n=po(e))&&ho(e.callee)?"Arguments":n},mo=Hr,Ao=Me,So=function(t,e,r){return r.get&&mo(r.get,e,{getter:!0}),r.set&&mo(r.set,e,{setter:!0}),Ao.f(t,e,r)},Oo=!u((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),To=Gt,Lo=G,Eo=Bt,Io=Oo,Ro=pr("IE_PROTO"),Mo=Object,jo=Mo.prototype,xo=Io?Mo.getPrototypeOf:function(t){var e=Eo(t);if(To(e,Ro))return e[Ro];var r=e.constructor;return Lo(r)&&e instanceof r?r.prototype:e instanceof Mo?jo:null},Po=T,_o=bt,Fo=Y,Co=function(t){return Fo(t)||null===t},Uo=String,Do=TypeError,Vo=function(t,e,r){try{return Po(_o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},Bo=Fe,No=function(t){if(Co(t))return t;throw new Do("Can't set "+Uo(t)+" as a prototype")},ko=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Vo(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Bo(r),No(n),e?t(r,n):r.__proto__=n,r}}():void 0),Go=uo,Wo=c,Yo=i,zo=G,qo=Y,Ho=Gt,Qo=wo,Xo=pt,Jo=Qe,Zo=Kr,Ko=So,$o=Q,ti=xo,ei=ko,ri=re,ni=Ht,oi=Mr.enforce,ii=Mr.get,ai=Yo.Int8Array,ui=ai&&ai.prototype,ci=Yo.Uint8ClampedArray,si=ci&&ci.prototype,fi=ai&&ti(ai),li=ui&&ti(ui),yi=Object.prototype,hi=Yo.TypeError,pi=ri("toStringTag"),gi=ni("TYPED_ARRAY_TAG"),di="TypedArrayConstructor",vi=Go&&!!ei&&"Opera"!==Qo(Yo.opera),bi=!1,wi={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},mi={BigInt64Array:8,BigUint64Array:8},Ai=function(t){var e=ti(t);if(qo(e)){var r=ii(e);return r&&Ho(r,di)?r[di]:Ai(e)}},Si=function(t){if(!qo(t))return!1;var e=Qo(t);return Ho(wi,e)||Ho(mi,e)};for(so in wi)(lo=(fo=Yo[so])&&fo.prototype)?oi(lo)[di]=fo:vi=!1;for(so in mi)(lo=(fo=Yo[so])&&fo.prototype)&&(oi(lo)[di]=fo);if((!vi||!zo(fi)||fi===Function.prototype)&&(fi=function(){throw new hi("Incorrect invocation")},vi))for(so in wi)Yo[so]&&ei(Yo[so],fi);if((!vi||!li||li===yi)&&(li=fi.prototype,vi))for(so in wi)Yo[so]&&ei(Yo[so].prototype,li);if(vi&&ti(si)!==li&&ei(si,li),Wo&&!Ho(li,pi))for(so in bi=!0,Ko(li,pi,{configurable:!0,get:function(){return qo(this)?this[gi]:void 0}}),wi)Yo[so]&&Jo(Yo[so],gi,so);var Oi={NATIVE_ARRAY_BUFFER_VIEWS:vi,TYPED_ARRAY_TAG:bi&&gi,aTypedArray:function(t){if(Si(t))return t;throw new hi("Target is not a typed array")},aTypedArrayConstructor:function(t){if(zo(t)&&(!ei||$o(fi,t)))return t;throw new hi(Xo(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(Wo){if(r)for(var o in wi){var i=Yo[o];if(i&&Ho(i.prototype,t))try{delete i.prototype[t]}catch(r){try{i.prototype[t]=e}catch(t){}}}li[t]&&!r||Zo(li,t,r?e:vi&&ui[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(Wo){if(ei){if(r)for(n in wi)if((o=Yo[n])&&Ho(o,t))try{delete o[t]}catch(t){}if(fi[t]&&!r)return;try{return Zo(fi,t,r?e:vi&&fi[t]||e)}catch(t){}}for(n in wi)!(o=Yo[n])||o[t]&&!r||Zo(o,t,e)}},getTypedArrayConstructor:Ai,isView:function(t){if(!qo(t))return!1;var e=Qo(t);return"DataView"===e||Ho(wi,e)||Ho(mi,e)},isTypedArray:Si,TypedArray:fi,TypedArrayPrototype:li},Ti=i,Li=u,Ei=function(t,e){try{if(!e&&!oo)return!1}catch(t){return!1}var r=!1;try{var n={};n[no]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Ii=Oi.NATIVE_ARRAY_BUFFER_VIEWS,Ri=Ti.ArrayBuffer,Mi=Ti.Int8Array,ji=!Ii||!Li((function(){Mi(1)}))||!Li((function(){new Mi(-1)}))||!Ei((function(t){new Mi,new Mi(null),new Mi(1.5),new Mi(t)}),!0)||Li((function(){return 1!==new Mi(new Ri(2),1,void 0).length})),xi=Kr,Pi=Q,_i=TypeError,Fi=function(t,e){if(Pi(e,t))return t;throw new _i("Incorrect invocation")},Ci=nn,Ui=ln,Di=RangeError,Vi=function(t){if(void 0===t)return 0;var e=Ci(t),r=Ui(e);if(e!==r)throw new Di("Wrong length or index");return r},Bi=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1},Ni=Math.abs,ki=2220446049250313e-31,Gi=1/ki,Wi=function(t,e,r,n){var o=+t,i=Ni(o),a=Bi(o);if(i<n)return a*function(t){return t+Gi-Gi}(i/n/e)*n*e;var u=(1+e/ki)*i,c=u-(u-i);return c>r||c!=c?a*(1/0):a*c},Yi=Math.fround||function(t){return Wi(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)},zi=Array,qi=Math.abs,Hi=Math.pow,Qi=Math.floor,Xi=Math.log,Ji=Math.LN2,Zi={pack:function(t,e,r){var n,o,i,a=zi(r),u=8*r-e-1,c=(1<<u)-1,s=c>>1,f=23===e?Hi(2,-24)-Hi(2,-77):0,l=t<0||0===t&&1/t<0?1:0,y=0;for((t=qi(t))!=t||t===1/0?(o=t!=t?1:0,n=c):(n=Qi(Xi(t)/Ji),t*(i=Hi(2,-n))<1&&(n--,i*=2),(t+=n+s>=1?f/i:f*Hi(2,1-s))*i>=2&&(n++,i/=2),n+s>=c?(o=0,n=c):n+s>=1?(o=(t*i-1)*Hi(2,e),n+=s):(o=t*Hi(2,s-1)*Hi(2,e),n=0));e>=8;)a[y++]=255&o,o/=256,e-=8;for(n=n<<e|o,u+=e;u>0;)a[y++]=255&n,n/=256,u-=8;return a[--y]|=128*l,a},unpack:function(t,e){var r,n=t.length,o=8*n-e-1,i=(1<<o)-1,a=i>>1,u=o-7,c=n-1,s=t[c--],f=127&s;for(s>>=7;u>0;)f=256*f+t[c--],u-=8;for(r=f&(1<<-u)-1,f>>=-u,u+=e;u>0;)r=256*r+t[c--],u-=8;if(0===f)f=1-a;else{if(f===i)return r?NaN:s?-1/0:1/0;r+=Hi(2,e),f-=a}return(s?-1:1)*r*Hi(2,f-e)}},Ki=Bt,$i=cn,ta=hn,ea=function(t){for(var e=Ki(this),r=ta(e),n=arguments.length,o=$i(n>1?arguments[1]:void 0,r),i=n>2?arguments[2]:void 0,a=void 0===i?r:$i(i,r);a>o;)e[o++]=t;return e},ra=T([].slice),na=G,oa=Y,ia=ko,aa=function(t,e,r){var n,o;return ia&&na(n=e.constructor)&&n!==r&&oa(o=n.prototype)&&o!==r.prototype&&ia(t,o),t},ua=Me.f,ca=Gt,sa=re("toStringTag"),fa=function(t,e,r){t&&!r&&(t=t.prototype),t&&!ca(t,sa)&&ua(t,sa,{configurable:!0,value:e})},la=i,ya=T,ha=c,pa=uo,ga=Qe,da=So,va=function(t,e,r){for(var n in e)xi(t,n,e[n],r);return t},ba=u,wa=Fi,ma=nn,Aa=ln,Sa=Vi,Oa=Yi,Ta=Zi,La=xo,Ea=ko,Ia=ea,Ra=ra,Ma=aa,ja=Bn,xa=fa,Pa=Mr,_a=er.PROPER,Fa=er.CONFIGURABLE,Ca="ArrayBuffer",Ua="DataView",Da="prototype",Va="Wrong index",Ba=Pa.getterFor(Ca),Na=Pa.getterFor(Ua),ka=Pa.set,Ga=la[Ca],Wa=Ga,Ya=Wa&&Wa[Da],za=la[Ua],qa=za&&za[Da],Ha=Object.prototype,Qa=la.Array,Xa=la.RangeError,Ja=ya(Ia),Za=ya([].reverse),Ka=Ta.pack,$a=Ta.unpack,tu=function(t){return[255&t]},eu=function(t){return[255&t,t>>8&255]},ru=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},nu=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},ou=function(t){return Ka(Oa(t),23,4)},iu=function(t){return Ka(t,52,8)},au=function(t,e,r){da(t[Da],e,{configurable:!0,get:function(){return r(this)[e]}})},uu=function(t,e,r,n){var o=Na(t),i=Sa(r),a=!!n;if(i+e>o.byteLength)throw new Xa(Va);var u=o.bytes,c=i+o.byteOffset,s=Ra(u,c,c+e);return a?s:Za(s)},cu=function(t,e,r,n,o,i){var a=Na(t),u=Sa(r),c=n(+o),s=!!i;if(u+e>a.byteLength)throw new Xa(Va);for(var f=a.bytes,l=u+a.byteOffset,y=0;y<e;y++)f[l+y]=c[s?y:e-y-1]};if(pa){var su=_a&&Ga.name!==Ca;ba((function(){Ga(1)}))&&ba((function(){new Ga(-1)}))&&!ba((function(){return new Ga,new Ga(1.5),new Ga(NaN),1!==Ga.length||su&&!Fa}))?su&&Fa&&ga(Ga,"name",Ca):((Wa=function(t){return wa(this,Ya),Ma(new Ga(Sa(t)),this,Wa)})[Da]=Ya,Ya.constructor=Wa,ja(Wa,Ga)),Ea&&La(qa)!==Ha&&Ea(qa,Ha);var fu=new za(new Wa(2)),lu=ya(qa.setInt8);fu.setInt8(0,2147483648),fu.setInt8(1,2147483649),!fu.getInt8(0)&&fu.getInt8(1)||va(qa,{setInt8:function(t,e){lu(this,t,e<<24>>24)},setUint8:function(t,e){lu(this,t,e<<24>>24)}},{unsafe:!0})}else Ya=(Wa=function(t){wa(this,Ya);var e=Sa(t);ka(this,{type:Ca,bytes:Ja(Qa(e),0),byteLength:e}),ha||(this.byteLength=e,this.detached=!1)})[Da],qa=(za=function(t,e,r){wa(this,qa),wa(t,Ya);var n=Ba(t),o=n.byteLength,i=ma(e);if(i<0||i>o)throw new Xa("Wrong offset");if(i+(r=void 0===r?o-i:Aa(r))>o)throw new Xa("Wrong length");ka(this,{type:Ua,buffer:t,byteLength:r,byteOffset:i,bytes:n.bytes}),ha||(this.buffer=t,this.byteLength=r,this.byteOffset=i)})[Da],ha&&(au(Wa,"byteLength",Ba),au(za,"buffer",Na),au(za,"byteLength",Na),au(za,"byteOffset",Na)),va(qa,{getInt8:function(t){return uu(this,1,t)[0]<<24>>24},getUint8:function(t){return uu(this,1,t)[0]},getInt16:function(t){var e=uu(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=uu(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return nu(uu(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return nu(uu(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return $a(uu(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return $a(uu(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){cu(this,1,t,tu,e)},setUint8:function(t,e){cu(this,1,t,tu,e)},setInt16:function(t,e){cu(this,2,t,eu,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){cu(this,2,t,eu,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){cu(this,4,t,ru,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){cu(this,4,t,ru,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){cu(this,4,t,ou,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){cu(this,8,t,iu,e,arguments.length>2&&arguments[2])}});xa(Wa,Ca),xa(za,Ua);var yu={ArrayBuffer:Wa,DataView:za},hu=Y,pu=Math.floor,gu=Number.isInteger||function(t){return!hu(t)&&isFinite(t)&&pu(t)===t},du=nn,vu=RangeError,bu=function(t){var e=du(t);if(e<0)throw new vu("The argument can't be less than 0");return e},wu=RangeError,mu=function(t,e){var r=bu(t);if(r%e)throw new wu("Wrong offset");return r},Au=Math.round,Su={},Ou=Tn,Tu=Ln,Lu=Object.keys||function(t){return Ou(t,Tu)},Eu=c,Iu=je,Ru=Me,Mu=Fe,ju=N,xu=Lu;Su.f=Eu&&!Iu?Object.defineProperties:function(t,e){Mu(t);for(var r,n=ju(e),o=xu(e),i=o.length,a=0;i>a;)Ru.f(t,r=o[a++],n[r]);return t};var Pu,_u=H("document","documentElement"),Fu=Fe,Cu=Su,Uu=Ln,Du=gr,Vu=_u,Bu=ve,Nu="prototype",ku="script",Gu=pr("IE_PROTO"),Wu=function(){},Yu=function(t){return"<"+ku+">"+t+"</"+ku+">"},zu=function(t){t.write(Yu("")),t.close();var e=t.parentWindow.Object;return t=null,e},qu=function(){try{Pu=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;qu="undefined"!=typeof document?document.domain&&Pu?zu(Pu):(e=Bu("iframe"),r="java"+ku+":",e.style.display="none",Vu.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(Yu("document.F=Object")),t.close(),t.F):zu(Pu);for(var n=Uu.length;n--;)delete qu[Nu][Uu[n]];return qu()};Du[Gu]=!0;var Hu=Object.create||function(t,e){var r;return null!==t?(Wu[Nu]=Fu(t),r=new Wu,Wu[Nu]=null,r[Gu]=t):r=qu(),void 0===e?r:Cu.f(r,e)},Qu=R,Xu=T,Ju=function(t){if("Function"===Qu(t))return Xu(t)},Zu=bt,Ku=s,$u=Ju(Ju.bind),tc=function(t,e){return Zu(t),void 0===e?t:Ku?$u(t,e):function(){return t.apply(e,arguments)}},ec=T,rc=u,nc=G,oc=wo,ic=cr,ac=function(){},uc=H("Reflect","construct"),cc=/^\s*(?:class|function)\b/,sc=ec(cc.exec),fc=!cc.test(ac),lc=function(t){if(!nc(t))return!1;try{return uc(ac,[],t),!0}catch(t){return!1}},yc=function(t){if(!nc(t))return!1;switch(oc(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return fc||!!sc(cc,ic(t))}catch(t){return!0}};yc.sham=!0;var hc=!uc||rc((function(){var t;return lc(lc.call)||!lc(Object)||!lc((function(){t=!0}))||t}))?yc:lc,pc=hc,gc=pt,dc=TypeError,vc={},bc=wo,wc=At,mc=F,Ac=vc,Sc=re("iterator"),Oc=function(t){if(!mc(t))return wc(t,Sc)||wc(t,"@@iterator")||Ac[bc(t)]},Tc=y,Lc=bt,Ec=Fe,Ic=pt,Rc=Oc,Mc=TypeError,jc=vc,xc=re("iterator"),Pc=Array.prototype,_c=wo,Fc=fe,Cc=TypeError,Uc=function(t){var e=Fc(t,"number");if("number"==typeof e)throw new Cc("Can't convert number to bigint");return BigInt(e)},Dc=tc,Vc=y,Bc=function(t){if(pc(t))return t;throw new dc(gc(t)+" is not a constructor")},Nc=Bt,kc=hn,Gc=function(t,e){var r=arguments.length<2?Rc(t):e;if(Lc(r))return Ec(Tc(r,t));throw new Mc(Ic(t)+" is not iterable")},Wc=Oc,Yc=function(t){return void 0!==t&&(jc.Array===t||Pc[xc]===t)},zc=function(t){var e=_c(t);return"BigInt64Array"===e||"BigUint64Array"===e},qc=Oi.aTypedArrayConstructor,Hc=Uc,Qc=R,Xc=Array.isArray||function(t){return"Array"===Qc(t)},Jc=hc,Zc=Y,Kc=re("species"),$c=Array,ts=function(t){var e;return Xc(t)&&(e=t.constructor,(Jc(e)&&(e===$c||Xc(e.prototype))||Zc(e)&&null===(e=e[Kc]))&&(e=void 0)),void 0===e?$c:e},es=tc,rs=_,ns=Bt,os=hn,is=function(t,e){return new(ts(t))(0===e?0:e)},as=T([].push),us=function(t){var e=1===t,r=2===t,n=3===t,o=4===t,i=6===t,a=7===t,u=5===t||i;return function(c,s,f,l){for(var y,h,p=ns(c),g=rs(p),d=os(g),v=es(s,f),b=0,w=l||is,m=e?w(c,d):r||a?w(c,0):void 0;d>b;b++)if((u||b in g)&&(h=v(y=g[b],b,p),t))if(e)m[b]=h;else if(h)switch(t){case 3:return!0;case 5:return y;case 6:return b;case 2:as(m,y)}else switch(t){case 4:return!1;case 7:as(m,y)}return i?-1:n||o?o:m}},cs={forEach:us(0),map:us(1),filter:us(2),some:us(3),every:us(4),find:us(5),findIndex:us(6),filterReject:us(7)},ss=H,fs=So,ls=c,ys=re("species"),hs=hn,ps=ro,gs=i,ds=y,vs=c,bs=ji,ws=Oi,ms=yu,As=Fi,Ss=w,Os=Qe,Ts=gu,Ls=ln,Es=Vi,Is=mu,Rs=function(t){var e=Au(t);return e<0?0:e>255?255:255&e},Ms=he,js=Gt,xs=wo,Ps=Y,_s=yt,Fs=Hu,Cs=Q,Us=ko,Ds=$r.f,Vs=function(t){var e,r,n,o,i,a,u,c,s=Bc(this),f=Nc(t),l=arguments.length,y=l>1?arguments[1]:void 0,h=void 0!==y,p=Wc(f);if(p&&!Yc(p))for(c=(u=Gc(f,p)).next,f=[];!(a=Vc(c,u)).done;)f.push(a.value);for(h&&l>2&&(y=Dc(y,arguments[2])),r=kc(f),n=new(qc(s))(r),o=zc(n),e=0;r>e;e++)i=h?y(f[e],e):f[e],n[e]=o?Hc(i):+i;return n},Bs=cs.forEach,Ns=function(t){var e=ss(t);ls&&e&&!e[ys]&&fs(e,ys,{configurable:!0,get:function(){return this}})},ks=So,Gs=Me,Ws=a,Ys=function(t,e,r){for(var n=0,o=arguments.length>2?r:hs(e),i=new t(o);o>n;)i[n]=e[n++];return i},zs=aa,qs=Mr.get,Hs=Mr.set,Qs=Mr.enforce,Xs=Gs.f,Js=Ws.f,Zs=gs.RangeError,Ks=ms.ArrayBuffer,$s=Ks.prototype,tf=ms.DataView,ef=ws.NATIVE_ARRAY_BUFFER_VIEWS,rf=ws.TYPED_ARRAY_TAG,nf=ws.TypedArray,of=ws.TypedArrayPrototype,af=ws.isTypedArray,uf="BYTES_PER_ELEMENT",cf="Wrong length",sf=function(t,e){ks(t,e,{configurable:!0,get:function(){return qs(this)[e]}})},ff=function(t){var e;return Cs($s,t)||"ArrayBuffer"===(e=xs(t))||"SharedArrayBuffer"===e},lf=function(t,e){return af(t)&&!_s(e)&&e in t&&Ts(+e)&&e>=0},yf=function(t,e){return e=Ms(e),lf(t,e)?Ss(2,t[e]):Js(t,e)},hf=function(t,e,r){return e=Ms(e),!(lf(t,e)&&Ps(r)&&js(r,"value"))||js(r,"get")||js(r,"set")||r.configurable||js(r,"writable")&&!r.writable||js(r,"enumerable")&&!r.enumerable?Xs(t,e,r):(t[e]=r.value,t)};vs?(ef||(Ws.f=yf,Gs.f=hf,sf(of,"buffer"),sf(of,"byteOffset"),sf(of,"byteLength"),sf(of,"length")),ps({target:"Object",stat:!0,forced:!ef},{getOwnPropertyDescriptor:yf,defineProperty:hf}),n.exports=function(t,e,r){var n=t.match(/\d+/)[0]/8,o=t+(r?"Clamped":"")+"Array",i="get"+t,a="set"+t,u=gs[o],c=u,s=c&&c.prototype,f={},l=function(t,e){Xs(t,e,{get:function(){return function(t,e){var r=qs(t);return r.view[i](e*n+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,o){var i=qs(t);i.view[a](e*n+i.byteOffset,r?Rs(o):o,!0)}(this,e,t)},enumerable:!0})};ef?bs&&(c=e((function(t,e,r,o){return As(t,s),zs(Ps(e)?ff(e)?void 0!==o?new u(e,Is(r,n),o):void 0!==r?new u(e,Is(r,n)):new u(e):af(e)?Ys(c,e):ds(Vs,c,e):new u(Es(e)),t,c)})),Us&&Us(c,nf),Bs(Ds(u),(function(t){t in c||Os(c,t,u[t])})),c.prototype=s):(c=e((function(t,e,r,o){As(t,s);var i,a,u,f=0,y=0;if(Ps(e)){if(!ff(e))return af(e)?Ys(c,e):ds(Vs,c,e);i=e,y=Is(r,n);var h=e.byteLength;if(void 0===o){if(h%n)throw new Zs(cf);if((a=h-y)<0)throw new Zs(cf)}else if((a=Ls(o)*n)+y>h)throw new Zs(cf);u=a/n}else u=Es(e),i=new Ks(a=u*n);for(Hs(t,{buffer:i,byteOffset:y,byteLength:a,length:u,view:new tf(i)});f<u;)l(t,f++)})),Us&&Us(c,nf),s=c.prototype=Fs(of)),s.constructor!==c&&Os(s,"constructor",c),Qs(s).TypedArrayConstructor=c,rf&&Os(s,rf,o);var y=c!==u;f[o]=c,ps({global:!0,constructor:!0,forced:y,sham:!ef},f),uf in c||Os(c,uf,n),uf in s||Os(s,uf,n),Ns(o)}):n.exports=function(){},(0,n.exports)("Float32",(function(t){return function(e,r,n){return t(this,e,r,n)}}));var pf=ea,gf=Uc,df=wo,vf=y,bf=u,wf=Oi.aTypedArray,mf=Oi.exportTypedArrayMethod,Af=T("".slice);mf("fill",(function(t){var e=arguments.length;wf(this);var r="Big"===Af(df(this),0,3)?gf(t):+t;return vf(pf,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),bf((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})));var Sf=i,Of=y,Tf=Oi,Lf=hn,Ef=mu,If=Bt,Rf=u,Mf=Sf.RangeError,jf=Sf.Int8Array,xf=jf&&jf.prototype,Pf=xf&&xf.set,_f=Tf.aTypedArray,Ff=Tf.exportTypedArrayMethod,Cf=!Rf((function(){var t=new Uint8ClampedArray(2);return Of(Pf,t,{length:1,0:3},1),3!==t[1]})),Uf=Cf&&Tf.NATIVE_ARRAY_BUFFER_VIEWS&&Rf((function(){var t=new jf(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));Ff("set",(function(t){_f(this);var e=Ef(arguments.length>1?arguments[1]:void 0,1),r=If(t);if(Cf)return Of(Pf,this,r,e);var n=this.length,o=Lf(r),i=0;if(o+e>n)throw new Mf("Wrong length");for(;i<o;)this[e+i]=r[i++]}),!Cf||Uf);var Df=ra,Vf=Math.floor,Bf=function(t,e){var r=t.length;if(r<8)for(var n,o,i=1;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}else for(var a=Vf(r/2),u=Bf(Df(t,0,a),e),c=Bf(Df(t,a),e),s=u.length,f=c.length,l=0,y=0;l<s||y<f;)t[l+y]=l<s&&y<f?e(u[l],c[y])<=0?u[l++]:c[y++]:l<s?u[l++]:c[y++];return t},Nf=Bf,kf=X.match(/firefox\/(\d+)/i),Gf=!!kf&&+kf[1],Wf=/MSIE|Trident/.test(X),Yf=X.match(/AppleWebKit\/(\d+)\./),zf=!!Yf&&+Yf[1],qf=Ju,Hf=u,Qf=bt,Xf=Nf,Jf=Gf,Zf=Wf,Kf=rt,$f=zf,tl=Oi.aTypedArray,el=Oi.exportTypedArrayMethod,rl=i.Uint16Array,nl=rl&&qf(rl.prototype.sort),ol=!(!nl||Hf((function(){nl(new rl(2),null)}))&&Hf((function(){nl(new rl(2),{})}))),il=!!nl&&!Hf((function(){if(Kf)return Kf<74;if(Jf)return Jf<67;if(Zf)return!0;if($f)return $f<602;var t,e,r=new rl(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(nl(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));el("sort",(function(t){return void 0!==t&&Qf(t),il?nl(this,t):Xf(tl(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!il||ol);var al=ve("span").classList,ul=al&&al.constructor&&al.constructor.prototype,cl=ul===Object.prototype?void 0:ul,sl=re,fl=Hu,ll=Me.f,yl=sl("unscopables"),hl=Array.prototype;void 0===hl[yl]&&ll(hl,yl,{configurable:!0,value:fl(null)});var pl,gl,dl,vl=u,bl=G,wl=Y,ml=xo,Al=Kr,Sl=re("iterator"),Ol=!1;[].keys&&("next"in(dl=[].keys())?(gl=ml(ml(dl)))!==Object.prototype&&(pl=gl):Ol=!0);var Tl=!wl(pl)||vl((function(){var t={};return pl[Sl].call(t)!==t}));Tl&&(pl={}),bl(pl[Sl])||Al(pl,Sl,(function(){return this}));var Ll={IteratorPrototype:pl,BUGGY_SAFARI_ITERATORS:Ol},El=Ll.IteratorPrototype,Il=Hu,Rl=w,Ml=fa,jl=vc,xl=function(){return this},Pl=ro,_l=y,Fl=G,Cl=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Il(El,{next:Rl(+!n,r)}),Ml(t,o,!1),jl[o]=xl,t},Ul=xo,Dl=ko,Vl=fa,Bl=Qe,Nl=Kr,kl=vc,Gl=er.PROPER,Wl=er.CONFIGURABLE,Yl=Ll.IteratorPrototype,zl=Ll.BUGGY_SAFARI_ITERATORS,ql=re("iterator"),Hl="keys",Ql="values",Xl="entries",Jl=function(){return this},Zl=N,Kl=function(t){hl[yl][t]=!0},$l=vc,ty=Mr,ey=Me.f,ry=function(t,e,r,n,o,i,a){Cl(r,e,n);var u,c,s,f=function(t){if(t===o&&g)return g;if(!zl&&t&&t in h)return h[t];switch(t){case Hl:case Ql:case Xl:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",y=!1,h=t.prototype,p=h[ql]||h["@@iterator"]||o&&h[o],g=!zl&&p||f(o),d="Array"===e&&h.entries||p;if(d&&(u=Ul(d.call(new t)))!==Object.prototype&&u.next&&(Ul(u)!==Yl&&(Dl?Dl(u,Yl):Fl(u[ql])||Nl(u,ql,Jl)),Vl(u,l,!0)),Gl&&o===Ql&&p&&p.name!==Ql&&(Wl?Bl(h,"name",Ql):(y=!0,g=function(){return _l(p,this)})),o)if(c={values:f(Ql),keys:i?g:f(Hl),entries:f(Xl)},a)for(s in c)(zl||y||!(s in h))&&Nl(h,s,c[s]);else Pl({target:e,proto:!0,forced:zl||y},c);return h[ql]!==g&&Nl(h,ql,g,{name:o}),kl[e]=g,c},ny=function(t,e){return{value:t,done:e}},oy=c,iy="Array Iterator",ay=ty.set,uy=ty.getterFor(iy),cy=ry(Array,"Array",(function(t,e){ay(this,{type:iy,target:Zl(t),index:0,kind:e})}),(function(){var t=uy(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=void 0,ny(void 0,!0);switch(t.kind){case"keys":return ny(r,!1);case"values":return ny(e[r],!1)}return ny([r,e[r]],!1)}),"values"),sy=$l.Arguments=$l.Array;if(Kl("keys"),Kl("values"),Kl("entries"),oy&&"values"!==sy.name)try{ey(sy,"name",{value:"values"})}catch(t){}var fy=i,ly={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},yy=cl,hy=cy,py=Qe,gy=fa,dy=re("iterator"),vy=hy.values,by=function(t,e){if(t){if(t[dy]!==vy)try{py(t,dy,vy)}catch(e){t[dy]=vy}if(gy(t,e,!0),ly[e])for(var r in hy)if(t[r]!==hy[r])try{py(t,r,hy[r])}catch(e){t[r]=hy[r]}}};for(var wy in ly)by(fy[wy]&&fy[wy].prototype,wy);by(yy,"DOMTokenList");var my=y;ro({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return my(URL.prototype.toString,this)}});const{atan:Ay,cos:Sy,exp:Oy,log:Ty,tan:Ly,PI:Ey}=Math,{degToRad:Iy,radToDeg:Ry}=e.MathUtils,My=6371010,jy=Math.PI*My;function xy(t){return window.google&&google.maps&&(t instanceof google.maps.LatLng||t instanceof google.maps.LatLngAltitude)?{altitude:0,...t.toJSON()}:{altitude:0,...t}}function Py(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new e.Vector3;const[o,i]=_y(t),[a,u]=_y(r);return n.set(o-a,i-u,0),n.multiplyScalar(Sy(Iy(r.lat))),n.z=t.altitude-r.altitude,n}function _y(t){return[My*Iy(t.lng),My*Ty(Ly(.25*Ey+.5*Iy(t.lat)))]}const Fy=new e.Vector3(0,0,1);t.EARTH_RADIUS=My,t.ThreeJSOverlayView=class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.animationMode="ondemand",this.rotationArray=new Float32Array(3),this.rotationInverse=new e.Quaternion,this.projectionMatrixInverse=new e.Matrix4,this.raycaster=new e.Raycaster;const{anchor:r={lat:0,lng:0,altitude:0},upAxis:n="Z",scene:o,map:i,animationMode:a="ondemand",addDefaultLighting:u=!0}=t;this.overlay=new google.maps.WebGLOverlayView,this.renderer=null,this.camera=null,this.animationMode=a,this.setAnchor(r),this.setUpAxis(n),this.scene=null!=o?o:new e.Scene,u&&this.initSceneLights(),this.overlay.onAdd=this.onAdd.bind(this),this.overlay.onRemove=this.onRemove.bind(this),this.overlay.onContextLost=this.onContextLost.bind(this),this.overlay.onContextRestored=this.onContextRestored.bind(this),this.overlay.onStateUpdate=this.onStateUpdate.bind(this),this.overlay.onDraw=this.onDraw.bind(this),this.camera=new e.PerspectiveCamera,i&&this.setMap(i)}setAnchor(t){this.anchor=xy(t)}setUpAxis(t){const r=new e.Vector3(0,0,1);"string"!=typeof t?r.copy(t):"y"===t.toLowerCase()?r.set(0,1,0):"z"!==t.toLowerCase()&&console.warn("invalid value '".concat(t,"' specified as upAxis")),r.normalize();const n=new e.Quaternion;n.setFromUnitVectors(r,Fy),this.rotationInverse.copy(n).invert();const o=(new e.Euler).setFromQuaternion(n,"XYZ");this.rotationArray[0]=e.MathUtils.radToDeg(o.x),this.rotationArray[1]=e.MathUtils.radToDeg(o.y),this.rotationArray[2]=e.MathUtils.radToDeg(o.z)}raycast(t,e){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(e)?r=e||null:(r=[this.scene],n={...e,recursive:!0});const{updateMatrix:o=!0,recursive:i=!1,raycasterParameters:a}=n;o&&this.projectionMatrixInverse.copy(this.camera.projectionMatrix).invert(),this.raycaster.ray.origin.set(t.x,t.y,0).applyMatrix4(this.projectionMatrixInverse),this.raycaster.ray.direction.set(t.x,t.y,.5).applyMatrix4(this.projectionMatrixInverse).sub(this.raycaster.ray.origin).normalize();const u=this.raycaster.params;a&&(this.raycaster.params=a);const c=this.raycaster.intersectObjects(r,i);return this.raycaster.params=u,c}onStateUpdate(){}onAdd(){}onBeforeDraw(){}onRemove(){}requestStateUpdate(){this.overlay.requestStateUpdate()}requestRedraw(){this.overlay.requestRedraw()}getMap(){return this.overlay.getMap()}setMap(t){this.overlay.setMap(t)}addListener(t,e){return this.overlay.addListener(t,e)}onContextRestored(t){let{gl:r}=t;this.renderer=new e.WebGLRenderer({canvas:r.canvas,context:r,...r.getContextAttributes()}),this.renderer.autoClear=!1,this.renderer.autoClearDepth=!1,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=e.PCFSoftShadowMap,Number(e.REVISION)<152&&(this.renderer.outputEncoding=e.sRGBEncoding);const{width:n,height:o}=r.canvas;this.renderer.setViewport(0,0,n,o)}onContextLost(){this.renderer&&(this.renderer.dispose(),this.renderer=null)}onDraw(t){let{gl:e,transformer:r}=t;this.camera.projectionMatrix.fromArray(r.fromLatLngAltitude(this.anchor,this.rotationArray)),e.disable(e.SCISSOR_TEST),this.onBeforeDraw(),this.renderer.render(this.scene,this.camera),this.renderer.resetState(),"always"===this.animationMode&&this.requestRedraw()}latLngAltitudeToVector3(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e.Vector3;return Py(xy(t),this.anchor,r),r.applyQuaternion(this.rotationInverse),r}bindTo(t,e,r,n){this.overlay.bindTo(t,e,r,n)}get(t){return this.overlay.get(t)}notify(t){this.overlay.notify(t)}set(t,e){this.overlay.set(t,e)}setValues(t){this.overlay.setValues(t)}unbind(t){this.overlay.unbind(t)}unbindAll(){this.overlay.unbindAll()}initSceneLights(){const t=new e.HemisphereLight(16777215,4473924,1);t.position.set(0,-.2,1).normalize();const r=new e.DirectionalLight(16777215);r.position.set(0,10,100),this.scene.add(t,r)}},t.WORLD_SIZE=jy,t.latLngToVector3Relative=Py,t.latLngToXY=_y,t.toLatLngAltitudeLiteral=xy,t.xyToLatLng=function(t){const[e,r]=t;return{lat:Ry(.5*Ey-2*Ay(Oy(-r/My))),lng:Ry(e)/My}}}));
//# sourceMappingURL=index.umd.js.map
