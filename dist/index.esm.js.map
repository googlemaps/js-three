{"version":3,"file":"index.esm.js","sources":["../src/util.ts","../src/three.ts"],"sourcesContent":[null,null],"names":["atan","cos","exp","log","tan","PI","Math","degToRad","radToDeg","MathUtils","EARTH_RADIUS","WORLD_SIZE","toLatLngAltitudeLiteral","point","window","google","maps","LatLng","LatLngAltitude","altitude","toJSON","latLngToVector3Relative","reference","target","Vector3","px","py","latLngToXY","rx","ry","set","multiplyScalar","lat","z","position","lng","xyToLatLng","p","x","y","DEFAULT_UP","ThreeJSOverlayView","constructor","options","this","animationMode","rotationArray","Float32Array","rotationInverse","Quaternion","projectionMatrixInverse","Matrix4","raycaster","Raycaster","anchor","upAxis","scene","map","addDefaultLighting","overlay","WebGLOverlayView","renderer","camera","setAnchor","setUpAxis","Scene","initSceneLights","onAdd","bind","onRemove","onContextLost","onContextRestored","onStateUpdate","onDraw","PerspectiveCamera","setMap","axis","upVector","copy","toLowerCase","console","warn","normalize","q","setFromUnitVectors","invert","euler","Euler","setFromQuaternion","raycast","optionsOrObjects","objects","Array","isArray","recursive","updateMatrix","raycasterParameters","projectionMatrix","ray","origin","applyMatrix4","direction","sub","oldRaycasterParams","params","results","intersectObjects","onBeforeDraw","requestStateUpdate","requestRedraw","getMap","addListener","eventName","handler","gl","WebGLRenderer","canvas","context","getContextAttributes","autoClear","autoClearDepth","shadowMap","enabled","type","PCFSoftShadowMap","outputEncoding","sRGBEncoding","width","height","setViewport","dispose","transformer","fromArray","fromLatLngAltitude","disable","SCISSOR_TEST","render","resetState","latLngAltitudeToVector3","applyQuaternion","bindTo","key","targetKey","noNotify","get","notify","value","setValues","values","unbind","unbindAll","hemiLight","HemisphereLight","dirLight","DirectionalLight","add"],"mappings":"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"}